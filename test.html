<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="/test.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <div id="header"></div>

</head>

<body>
    <div id="bg-question">
        <img style="width: 80%; bottom:0px;left: 0px;"
            src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/4.3-04.png?alt=media&token=30fb589e-fc94-421a-9fc4-676d94f3ffe1" />
        <img style="width: 70%; bottom:0px;right: 0px;"
            src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/4.1-04.png?alt=media&token=0ff2a7f4-1de8-4882-8a78-b7bcb282341a" />
        <img style="width: 100%; bottom:-50px; right: 0px;"
            src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/4.4-04.png?alt=media&token=611591a0-5ff5-4b26-8ffc-27f1ff9b3898" />
        <img style="width: 80%; top:-100px; right: 0px;"
            src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/4.2-04.png?alt=media&token=7f7fa8d8-ed60-41aa-9f29-bd97324084d9" />
        <img style="width: 100%; top:-100px;"
            src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/4.5-04.png?alt=media&token=2f06fac7-247e-4ae3-b34d-e8bc2ae24d94" />
        <img style="width: 100%; top:-100px;"
            src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/4.6-04.png?alt=media&token=ca7661ff-80b8-4740-a5fe-4f5f156d0f1a" />
    </div>
    <div id="bg-question-mobile">
        <img style="width: 100%; top:0px;left: 0px;"
            src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/mobile%2Fmobile1-04.png?alt=media&token=8efe75b3-8040-4b48-9aed-dd3c0f8327cb" />
        <img style="width: 100%; top:0px;right: 0px;"
            src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/mobile%2Fmobile4-04.png?alt=media&token=4dba1257-9ae2-4177-8c3e-53233c9fb218" />
        <img style="width: 100%; bottom:0px;right: 0px;"
            src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/mobile%2Fmobile6-04.png?alt=media&token=f72501a7-2dce-4fad-91e1-decbe05b01cd" />
        <img style="width: 100%; bottom:0px;right: 0px;"
            src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/mobile%2Fmobile5-04.png?alt=media&token=60cd8f5d-db3d-41d8-b3cb-e396e20fe829" />
        <img style="width: 100%; top:0px;left: 0px;"
            src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/mobile%2Fmobile2-04.png?alt=media&token=b0731fbd-eb9e-47e8-ba2b-b66b5049f8e3" />
        <img style="width: 100%; bottom:0px;left: 0px;"
            src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/mobile%2Fmobile3-04.png?alt=media&token=7fb57907-7fca-4ada-bd54-8394d83bfea6" />
    </div>

    <div id="question-frame">
        <div id="list-of-number">
            <p id="number">1 | 15</p>
        </div>
        <div id="question-group">
            <div id="number-question">
                <p id="question">ท่านรู้สึกพึงพอใจในชีวิต</p>
            </div>
            <form id="score" action="/action_page.php">
                <input type="radio" id="score4" name="score" onclick="collectScore(this.value)" value="4" checked>
                <label id="label4" for="score4">มากที่สุด</label><br>
                <input type="radio" id="score3" name="score" onclick="collectScore(this.value)" value="3">
                <label id="label3" for="score3">มาก</label><br>
                <input type="radio" id="score2" name="score" onclick="collectScore(this.value)" value="2">
                <label id="label2" for="score2">เล็กน้อย</label><br>
                <input type="radio" id="score1" name="score" onclick="collectScore(this.value)" value="1">
                <label id="label1" for="score1">ไม่เลย</label><br>
            </form>
        </div>

    </div>
    <div id="page">
        <button id="next" onclick="next()">ถัดไป</button>
        <button id="result" onclick="enterToResult()">สรุปผลคะแนน</button>
    </div>
    <div id="result-score">          
        <div id="bg-result-score">
            <img style="width: 80%;  bottom: 0; right: 0px;"
                src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/1-05.png?alt=media&token=0d1c28ac-ae70-4687-bc1d-b01faf555ac1"></img>
            <img style="width: 80%;  left: 0; top: 0px;"
                src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/5.4-05.png?alt=media&token=d5525da4-cf01-418d-9c5a-695da8eb94a9"></img>
            <img style="width: 80%; top: 0px; "
                src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/5.2-05.png?alt=media&token=87cdfe1d-8458-41e4-a719-8615e292007c"></img>
            <img style="width: 80%; bottom: 0px; right: 0;"
                src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/2-05.png?alt=media&token=9a4c51e1-a338-4411-96b3-ef6af2f44622"></img>
            <img style="width: 100%; bottom: -60px; right: 0;"
                src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/5-05.png?alt=media&token=7c822239-89e8-4ce8-a0b9-e91483cbaec9"></img>
        </div>
        <div id="bg-result-mobile">
            <img style="width: 100%; bottom: 0;"
                src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/mobile%2Fmobile4-05.png?alt=media&token=fe95fbb5-8970-44ef-a12e-ac3131533759">
            <img style="width: 100%; bottom: 0;"
                src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/mobile%2Fmobile3-05.png?alt=media&token=ecda9c15-da8c-4740-8725-12cf6be476e3">
            <img style="width: 100%; bottom: 0;"
                src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/mobile%2Fmobile5-05.png?alt=media&token=313fe95b-3d4a-4cf9-b570-def6337e3e82">
            <img style="width: 100%; top: 0;"
                src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/mobile%2Fmobile1-05.png?alt=media&token=cc238011-a6f2-448b-8462-0f4a65739e44">
            <img style="width: 100%; top: 0;"
                src="
                https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/mobile%2Fmobile2-05.png?alt=media&token=d6681943-806c-429d-acbb-39c11b5f3465">

        </div>
        <a id="myBtn"><img id="small" style="height: 30px; "
            src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/infor-01.png?alt=media&token=36cf1be0-bafe-4738-8ef5-3e4d5c31bfec" />
    </a>
        <div id="result-analyze">
            <h3>ขอบคุณที่เข้าร่วมการประเมินแบบทดสอบความสุข</h3><br>
            <h2>คุณได้คะแนนรวม </h2>
            <h2 id=point></h2>
            <h2> คะแนน</h2>
            <br>
            <h3>การแปลผลการประเมิน</h3><br>
            <h2 id="analysis"></h2><br><br>
            <div class="videoWrapper">
                <iframe id="video" height="385" width="684" src="" frameborder="0"
                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen></iframe><br>
                <div id="btn-menu">
                    <button onclick="location.href='/main-test.html';">กลับไปหน้าแบบทดสอบ</button>
                    <button onclick="location.href='/happiness.html';">สุขง่าย ๆ ด้วยตัวเรา</button>
                </div>
            </div>
            <div class="tooltip"><img id="small" style="height: 30px;"
                    src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/info-01.png?alt=media&token=fa6067f3-a2e8-4fcc-8e85-8d2f17f0435c" />
                <span class="tooltiptext">
                    <img style="width: 600px; z-index: 1;"
                        src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/designinfo-01.png?alt=media&token=4218dec6-e639-494c-931a-c61e6d013dea">
                </span>

            </div>         

        <!-- The Modal -->
        <div id="myModal" class="modal">

            <!-- Modal content -->
            <div class="modal-content">
                <div id="bg-modal">
                    <img style="width: 70%; right: 2%; bottom:0px;"
                        src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/mobile%2Finfomobile2.1-03.png?alt=media&token=beb3d701-1f5b-4edd-bf72-2c42560d1c9a">
                    <img style="width: 80%; left: 0px; top:-30px;"
                        src="https://firebasestorage.googleapis.com/v0/b/subjective-well-being.appspot.com/o/mobile%2Finfomobile2.3-03.png?alt=media&token=f0326f8f-2dc7-4107-9bd0-b9821e227b4c">
                </div>
                <span class="close">&times;</span>
                <h3 style="font-size: 24px;">เกณฑ์ปกติที่กำหนด</h3>
                <p style="font-size: 14px;">คะแนน 0-43 มีสุขภาพจิตต่ำกว่าคนทั่วไป (Poor)<br>
                คะแนน 44-50 มีสุขภาพจิตเท่ากับคนทั่วไป (Fair)<br>
                คะแนนมากกว่า 50 มีสุขภาพจิตดีกว่าคนทั่วไป (Good)<br>
                </p>
                <h3 style="font-size: 24px;">คำแนะนำเบื้องต้น</h3>
                <p style="font-size: 14px;">ในกรณีที่ท่านมีคะแนนอยู่ในกลุ่มสุขภาพจิตต่ำกว่าคนทั่วไป<br>
                    ท่านอาจช่วยเหลือตนเองเบื้องต้น<br>
                    โดยขอรับบริการปรึกษาจากสถานบริการสาธารณสุขใกล้บ้านของท่านได้<br>
                    หรือติดต่อสายด่วน 1323 กรมสุขภาพจิต<br>
                </p>


            
        </div>
            
    </div>
        </div>
        



        <script>
            var number = 1
            var point = []
            var questions = ["ท่านรู้สึกพึงพอใจในชีวิต", "ท่านรู้สึกสบายใจ",
                "ท่านรู้สึกเบื่อหน่ายท้อแท้กับการดำเนินชีวิตประจำวัน", "ท่านรู้สึกผิดหวังในตัวเอง",
                "ท่านรู้สึกว่าชีวิตของท่านมีแต่ความทุกข์", "ท่านสามารถทำใจยอมรับได้สำหรับปัญหาที่ยากจะแก้ไข",
                "ท่านมั่นใจว่าสามารถควบคุมอารมณ์ได้เมื่อมีเหตุการณ์คับขันหรือร้ายแรงเกิดขึ้น", "ท่านมั่นใจที่จะเผชิญกับเหตุการณ์ร้ายแรงที่เกิดขึ้นในชีวิต",
                "ท่านรู้สึกเห็นใจเมื่อผู้อื่นมีทุกข์", "ท่านรู้สึกเป็นสุขในการช่วยเหลือผู้อื่นที่มีปัญหา",
                "ท่านให้ความช่วยเหลือแก่ผู้อื่นเมื่อมีโอกาส", "ท่านรู้สึกภูมิใจในตนเอง",
                "ท่านรู้สึกมั่นคง ปลอดภัยเมื่ออยู่ในครอบครัว", "หากท่านป่วยหนัก ท่านเชื่อว่าครอบครัวของท่านจะดูแลท่านเป็นอย่างดี",
                "สมาชิกในครอบครัวมีความรักและผูกพันต่อกัน"
            ]

            function enterToTest() {
                if (data.age == "" || data.career == "" || data.education == "" ||
                    data.sex == "" || data.status == "") {
                    document.getElementById("fill-up").style.visibility = "visible";
                } else {
                    document.getElementById("data-user").style.display = "none";
                    document.getElementById("question-frame").style.display = "block";
                    document.getElementById("bg-question").style.display = "block";
                    document.getElementById("bg-selected").style.display = "none";
                    document.body.style.backgroundColor = "#F65832";
                }
            }

            function collectScore(score) {
                document.getElementById("next").style.display = 'block'
                if (number == 3 || number == 4 || number == 5) {
                    if (parseInt(score) == 4) {
                        point[number - 1] = 1
                    } else if (parseInt(score) == 3) {
                        point[number - 1] = 2
                    } else if (parseInt(score) == 2) {
                        point[number - 1] = 3
                    } else if (parseInt(score) == 1) {
                        point[number - 1] = 4
                    }
                } else {
                    point[number - 1] = parseInt(score)
                }
                if (point[number - 1] !== undefined) {
                    if (number <= 14) {
                        document.getElementById("score").reset();
                    } else if (number == 14) {
                        document.getElementById("score").reset();
                    }
                }
                if (point[14] != undefined) {
                    document.getElementById("result").style.display = 'block'
                    document.getElementById("next").style.display = 'none'
                }
                var labels = document.getElementsByTagName('label'), l, label;

                if (score == 4) {
                    document.getElementById('label4').style.color = "#F7AB37";
                    document.getElementById('label3').style.color = "#FAF3EB";
                    document.getElementById('label2').style.color = "#FAF3EB";
                    document.getElementById('label1').style.color = "#FAF3EB";
                } else if (score == 3) {
                    document.getElementById('label4').style.color = "#FAF3EB";
                    document.getElementById('label3').style.color = "#F7AB37";
                    document.getElementById('label2').style.color = "#FAF3EB";
                    document.getElementById('label1').style.color = "#FAF3EB";
                } else if (score == 2) {
                    document.getElementById('label4').style.color = "#FAF3EB";
                    document.getElementById('label3').style.color = "#FAF3EB";
                    document.getElementById('label2').style.color = "#F7AB37";
                    document.getElementById('label1').style.color = "#FAF3EB";
                } else if (score == 1) {
                    document.getElementById('label4').style.color = "#FAF3EB";
                    document.getElementById('label3').style.color = "#FAF3EB";
                    document.getElementById('label2').style.color = "#FAF3EB";
                    document.getElementById('label1').style.color = "#F7AB37";
                }




            }
            function next() {
                number++
                if (number <= 15) {
                    document.getElementById("question").innerHTML = questions[number - 1]
                    document.getElementById("number").innerHTML = number + " | 15"
                    document.getElementById("next").style.display = 'none'
                }
                document.getElementById('label4').style.color = "#FAF3EB";
                document.getElementById('label3').style.color = "#FAF3EB";
                document.getElementById('label2').style.color = "#FAF3EB";
                document.getElementById('label1').style.color = "#FAF3EB";
            }
            function user() {
                document.getElementById("explanation").style.display = "none";
                document.getElementById("data-user").style.display = "block";
            }
            function enterToResult() {
                sum = point.reduce((a, b) => a + b, 0)
                document.getElementById("page").style.display = 'none'
                document.getElementById("question-frame").style.display = 'none'
                document.getElementById("bg-question").style.display = "none";
                document.getElementById("bg-question-mobile").style.display = 'none'
                document.body.style.backgroundColor = "#FAF3EB";
                document.getElementById("result-score").style.display = 'block';
                document.getElementById("point").innerHTML = sum
                if (sum <= 43) {
                    document.getElementById("video").src = "https://www.youtube.com/embed/gTXDz1c3adg?autoplay=1&controls=0";
                    document.getElementById("analysis").innerHTML = "มีสุขภาพจิตต่ำกว่าคนทั่วไป (Poor)"
                } else if (sum >= 44 && sum <= 50) {
                    document.getElementById("video").src = "https://www.youtube.com/embed/7hEb9Xb-710?autoplay=1&controls=0";
                    document.getElementById("analysis").innerHTML = "มีสุขภาพจิตเท่ากับคนทั่วไป (Fair)"
                } else if (sum > 50) {
                    document.getElementById("video").src = "https://www.youtube.com/embed/OKMe73Tl4lI?autoplay=1&controls=0";
                    document.getElementById("analysis").innerHTML = "มีสุขภาพจิตดีกว่าคนทั่วไป (Good)"
                }
                if (document.body.clientWidth < 1000) {
                    document.getElementById("video").width = 300;
                    document.getElementById("video").height = 200;
                }
            }
            // Get the modal
            var modal = document.getElementById("myModal");

            // Get the button that opens the modal
            var btn = document.getElementById("myBtn");

            // Get the <span> element that closes the modal
            var span = document.getElementsByClassName("close")[0];

            // When the user clicks the button, open the modal 
            btn.onclick = function () {
                modal.style.display = "block";
            }

            // When the user clicks on <span> (x), close the modal
            span.onclick = function () {
                modal.style.display = "none";
            }

            // When the user clicks anywhere outside of the modal, close it
            window.onclick = function (event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        </script>

</body>

</html>